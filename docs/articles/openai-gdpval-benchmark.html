<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Analyzing the OpenAI GDPval Benchmark • huggingfaceR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Inter-0.4.10/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Analyzing the OpenAI GDPval Benchmark">
<link rel="icon" type="image/svg+xml" href="favicon/favicon.svg">
<meta property="og:image" content="https://farach.github.io/huggingfaceR/logo.svg">
<meta name="twitter:card" content="summary">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">huggingfaceR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-book-open"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>Getting Started</h6></li>
    <li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started with huggingfaceR</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Core Capabilities</h6></li>
    <li><a class="dropdown-item" href="../articles/text-classification.html">Text Classification</a></li>
    <li><a class="dropdown-item" href="../articles/embeddings-and-similarity.html">Embeddings and Similarity</a></li>
    <li><a class="dropdown-item" href="../articles/llm-chat-and-generation.html">Chat and Generation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced Workflows</h6></li>
    <li><a class="dropdown-item" href="../articles/hub-datasets-and-modeling.html">Hub, Datasets, and Modeling</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Case Studies</h6></li>
    <li><a class="dropdown-item" href="../articles/anthropic-economic-index.html">Anthropic Economic Index</a></li>
    <li><a class="dropdown-item" href="../articles/openai-gdpval-benchmark.html">OpenAI GDPval Benchmark</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/farach/huggingfaceR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Analyzing the OpenAI GDPval Benchmark</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/farach/huggingfaceR/blob/main/vignettes/openai-gdpval-benchmark.Rmd" class="external-link"><code>vignettes/openai-gdpval-benchmark.Rmd</code></a></small>
      <div class="d-none name"><code>openai-gdpval-benchmark.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">huggingfaceR</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <a href="https://huggingface.co/datasets/openai/gdpval" class="external-link">GDPval
benchmark</a> from OpenAI is designed to evaluate AI model performance
on real-world, economically valuable tasks. The dataset contains over
250 diverse, knowledge-based tasks spanning multiple occupations across
9 economic sectors, simulating authentic professional work
scenarios.</p>
<p>Unlike synthetic benchmarks, GDPval tasks are grounded in actual
occupational requirements: an accountant preparing a prepaid expense
schedule, an audio engineer designing an IEM system, or a government
analyst managing grant compliance. Each task includes detailed prompts
and, in many cases, supporting reference files (documents, spreadsheets,
images) that mirror real work contexts.</p>
<p>This vignette demonstrates how to use huggingfaceR to analyze the
GDPval benchmark from the perspective of AI productivity research. You
will learn to: - Load the dataset directly from the Hugging Face Hub -
Explore the distribution of tasks across occupations and sectors - Apply
semantic embeddings to task prompts - Discover latent structure in
economically valuable tasks through clustering - Classify tasks along
research-relevant dimensions using zero-shot models - Measure semantic
similarity between occupations - Visualize the embedding space of
economic work</p>
<p>These analyses illustrate how huggingfaceR enables programmatic,
reproducible research over structured task corpora, operations that
could not be replicated through conversational prompting alone.</p>
</div>
<div class="section level2">
<h2 id="loading-the-dataset">Loading the Dataset<a class="anchor" aria-label="anchor" href="#loading-the-dataset"></a>
</h2>
<p>The GDPval benchmark is hosted as a standard Hugging Face Dataset, so
we can load it directly using <code><a href="../reference/hf_load_dataset.html">hf_load_dataset()</a></code>. This
returns a tibble ready for analysis.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gdpval</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/hf_load_dataset.html">hf_load_dataset</a></span><span class="op">(</span><span class="st">"openai/gdpval"</span>, split <span class="op">=</span> <span class="st">"train"</span><span class="op">)</span></span>
<span><span class="va">gdpval</span></span>
<span><span class="co">#&gt; # A tibble: 220 x 8</span></span>
<span><span class="co">#&gt;    task_id                              sector           occupation</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                                &lt;chr&gt;            &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 a1b2c3d4-e5f6-7890-abcd-ef1234567890 Accounting       Tax Examiner</span></span>
<span><span class="co">#&gt;  2 b2c3d4e5-f6a7-8901-bcde-f12345678901 Administrative   Admin Assistant</span></span>
<span><span class="co">#&gt;  ...</span></span></code></pre></div>
<p>The dataset contains the following columns:</p>
<table class="table">
<colgroup>
<col width="38%">
<col width="61%">
</colgroup>
<thead><tr class="header">
<th>Column</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>task_id</code></td>
<td>Unique identifier (UUID) for each task</td>
</tr>
<tr class="even">
<td><code>sector</code></td>
<td>Economic sector (9 categories)</td>
</tr>
<tr class="odd">
<td><code>occupation</code></td>
<td>Specific job role</td>
</tr>
<tr class="even">
<td><code>prompt</code></td>
<td>Detailed task instructions (typically 600-6,600 characters)</td>
</tr>
<tr class="odd">
<td><code>reference_files</code></td>
<td>Array of supporting document names</td>
</tr>
<tr class="even">
<td><code>reference_file_urls</code></td>
<td>Direct URLs to reference materials</td>
</tr>
<tr class="odd">
<td><code>reference_file_hf_uris</code></td>
<td>Hugging Face URIs for reference files</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="exploratory-analysis">Exploratory Analysis<a class="anchor" aria-label="anchor" href="#exploratory-analysis"></a>
</h2>
<div class="section level3">
<h3 id="distribution-across-sectors">Distribution Across Sectors<a class="anchor" aria-label="anchor" href="#distribution-across-sectors"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sector_counts</span> <span class="op">&lt;-</span> <span class="va">gdpval</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">sector</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sector_counts</span></span>
<span><span class="co">#&gt; # A tibble: 9 x 2</span></span>
<span><span class="co">#&gt;   sector                      n</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                   &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 Professional Services      35</span></span>
<span><span class="co">#&gt; 2 Government                 28</span></span>
<span><span class="co">#&gt; 3 Manufacturing              25</span></span>
<span><span class="co">#&gt; ...</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">sector_counts</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">sector</span>, <span class="va">n</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"steelblue"</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>   title <span class="op">=</span> <span class="st">"GDPval Tasks by Economic Sector"</span>,</span>
<span>   x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>   y <span class="op">=</span> <span class="st">"Number of Tasks"</span></span>
<span> <span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="distribution-across-occupations">Distribution Across Occupations<a class="anchor" aria-label="anchor" href="#distribution-across-occupations"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">occupation_counts</span> <span class="op">&lt;-</span> <span class="va">gdpval</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">occupation</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Top 15 occupations</span></span>
<span><span class="va">occupation_counts</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">15</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">occupation</span>, <span class="va">n</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"darkgreen"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Top 15 Occupations in GDPval"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Number of Tasks"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="task-prompt-length-distribution">Task Prompt Length Distribution<a class="anchor" aria-label="anchor" href="#task-prompt-length-distribution"></a>
</h3>
<p>Task complexity may correlate with prompt length. Let’s examine the
distribution.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gdpval</span> <span class="op">&lt;-</span> <span class="va">gdpval</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>prompt_length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">prompt</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">gdpval</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">prompt_length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">30</span>, fill <span class="op">=</span> <span class="st">"coral"</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Distribution of Task Prompt Lengths"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Characters"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Count"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Summary by sector</span></span>
<span><span class="va">gdpval</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sector</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    n_tasks <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    mean_length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">prompt_length</span><span class="op">)</span>,</span>
<span>    median_length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">prompt_length</span><span class="op">)</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">mean_length</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="semantic-embeddings-of-task-prompts">Semantic Embeddings of Task Prompts<a class="anchor" aria-label="anchor" href="#semantic-embeddings-of-task-prompts"></a>
</h2>
<p>A core capability of huggingfaceR is converting text into dense
vector representations. By embedding GDPval task prompts, we can measure
semantic relationships between tasks regardless of their surface wording
or occupational classification.</p>
<div class="section level3">
<h3 id="embedding-task-descriptions">Embedding Task Descriptions<a class="anchor" aria-label="anchor" href="#embedding-task-descriptions"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate embeddings for all task prompts</span></span>
<span><span class="va">task_embeddings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/hf_embed.html">hf_embed</a></span><span class="op">(</span><span class="va">gdpval</span><span class="op">$</span><span class="va">prompt</span><span class="op">)</span></span>
<span></span>
<span><span class="va">task_embeddings</span></span>
<span><span class="co">#&gt; # A tibble: 220 x 3</span></span>
<span><span class="co">#&gt;    text                                          embedding     n_dims</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                                         &lt;list&gt;         &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 You are assisting a tax examiner...           &lt;dbl [384]&gt;      384</span></span>
<span><span class="co">#&gt;  2 Review the following administrative...        &lt;dbl [384]&gt;      384</span></span>
<span><span class="co">#&gt;  ...</span></span></code></pre></div>
<p>The result is a tibble with one row per task, containing the original
text, a list-column of 384-dimensional embedding vectors, and the
dimensionality.</p>
</div>
<div class="section level3">
<h3 id="measuring-task-similarity">Measuring Task Similarity<a class="anchor" aria-label="anchor" href="#measuring-task-similarity"></a>
</h3>
<p>With embeddings in hand, we can compute pairwise cosine similarity.
This reveals which tasks are semantically related even when they belong
to different occupational categories.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare a subset of tasks</span></span>
<span><span class="va">sample_embeddings</span> <span class="op">&lt;-</span> <span class="va">task_embeddings</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/hf_similarity.html">hf_similarity</a></span><span class="op">(</span><span class="va">sample_embeddings</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 45 x 3</span></span>
<span><span class="co">#&gt;    text_1                          text_2                       similarity</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                           &lt;chr&gt;                             &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 You are assisting a tax...      Review the following admin~       0.45</span></span>
<span><span class="co">#&gt;  2 You are assisting a tax...      Analyze the manufacturing~        0.62</span></span>
<span><span class="co">#&gt;  ...</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="nearest-neighbor-search-for-research-concepts">Nearest Neighbor Search for Research Concepts<a class="anchor" aria-label="anchor" href="#nearest-neighbor-search-for-research-concepts"></a>
</h2>
<p>AI productivity researchers often want to identify which occupational
tasks are closest to abstract concepts such as “analytical reasoning” or
“creative problem solving.” The <code><a href="../reference/hf_nearest_neighbors.html">hf_nearest_neighbors()</a></code>
function performs this semantic search against an embedded corpus.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Build an embedded document set using the tidytext-style interface</span></span>
<span><span class="va">task_docs</span> <span class="op">&lt;-</span> <span class="va">gdpval</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">task_id</span>, <span class="va">sector</span>, <span class="va">occupation</span>, <span class="va">prompt</span>, <span class="va">prompt_length</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/hf_embed_text.html">hf_embed_text</a></span><span class="op">(</span><span class="va">prompt</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find tasks most similar to "financial analysis and reporting"</span></span>
<span><span class="fu"><a href="../reference/hf_nearest_neighbors.html">hf_nearest_neighbors</a></span><span class="op">(</span><span class="va">task_docs</span>, <span class="st">"financial analysis and reporting"</span>, k <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 5 x 7</span></span>
<span><span class="co">#&gt;    task_id         sector     occupation     prompt   embedding  similarity</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;           &lt;chr&gt;      &lt;chr&gt;          &lt;chr&gt;    &lt;list&gt;          &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 abc123...       Accounting Accountant     You are~ &lt;dbl&gt;           0.89</span></span>
<span><span class="co">#&gt;  ...</span></span>
<span></span>
<span><span class="co"># Find tasks most similar to "creative design and production"</span></span>
<span><span class="fu"><a href="../reference/hf_nearest_neighbors.html">hf_nearest_neighbors</a></span><span class="op">(</span><span class="va">task_docs</span>, <span class="st">"creative design and production"</span>, k <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find tasks most similar to "technical problem solving"</span></span>
<span><span class="fu"><a href="../reference/hf_nearest_neighbors.html">hf_nearest_neighbors</a></span><span class="op">(</span><span class="va">task_docs</span>, <span class="st">"technical problem solving"</span>, k <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find tasks most similar to "interpersonal communication and negotiation"</span></span>
<span><span class="fu"><a href="../reference/hf_nearest_neighbors.html">hf_nearest_neighbors</a></span><span class="op">(</span><span class="va">task_docs</span>, <span class="st">"interpersonal communication and negotiation"</span>, k <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p>This approach lets researchers map their theoretical constructs onto
the empirical task taxonomy without manual coding. The entire corpus is
processed as a single batch operation.</p>
</div>
<div class="section level2">
<h2 id="clustering-tasks-by-semantic-content">Clustering Tasks by Semantic Content<a class="anchor" aria-label="anchor" href="#clustering-tasks-by-semantic-content"></a>
</h2>
<p>Beyond pairwise comparisons, researchers may want to discover latent
groupings in the task space. The <code><a href="../reference/hf_cluster_texts.html">hf_cluster_texts()</a></code>
function applies k-means clustering on the embedding vectors to identify
coherent task families.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Cluster tasks into semantic groups</span></span>
<span><span class="va">clustered_tasks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/hf_cluster_texts.html">hf_cluster_texts</a></span><span class="op">(</span><span class="va">task_docs</span>, k <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cluster_summary</span> <span class="op">&lt;-</span> <span class="va">clustered_tasks</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">cluster</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    n_tasks <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    sectors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">sector</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span>,</span>
<span>    example_occupation <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">first</a></span><span class="op">(</span><span class="va">occupation</span><span class="op">)</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">cluster_summary</span></span>
<span><span class="co">#&gt; # A tibble: 8 x 4</span></span>
<span><span class="co">#&gt;   cluster n_tasks sectors                           example_occupation</span></span>
<span><span class="co">#&gt;     &lt;int&gt;   &lt;int&gt; &lt;chr&gt;                             &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1       1      32 Accounting, Professional Services Accountant</span></span>
<span><span class="co">#&gt; 2       2      28 Manufacturing, Engineering        Production Manager</span></span>
<span><span class="co">#&gt; ...</span></span></code></pre></div>
<div class="section level3">
<h3 id="comparing-clusters-to-official-sectors">Comparing Clusters to Official Sectors<a class="anchor" aria-label="anchor" href="#comparing-clusters-to-official-sectors"></a>
</h3>
<p>Do the unsupervised semantic clusters align with the official sector
classifications? We can measure this using a contingency table.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Cross-tabulate clusters and sectors</span></span>
<span><span class="va">cluster_sector_table</span> <span class="op">&lt;-</span> <span class="va">clustered_tasks</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">cluster</span>, <span class="va">sector</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">sector</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cluster_sector_table</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="extracting-cluster-topics">Extracting Cluster Topics<a class="anchor" aria-label="anchor" href="#extracting-cluster-topics"></a>
</h3>
<p>To interpret the clusters, <code><a href="../reference/hf_extract_topics.html">hf_extract_topics()</a></code>
identifies the most representative terms within each group.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">task_docs</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/hf_extract_topics.html">hf_extract_topics</a></span><span class="op">(</span>text_col <span class="op">=</span> <span class="st">"prompt"</span>, k <span class="op">=</span> <span class="fl">8</span>, top_n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 8 x 2</span></span>
<span><span class="co">#&gt;   cluster topic_terms</span></span>
<span><span class="co">#&gt;     &lt;int&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1       1 financial, analysis, budget, report, prepare, ...</span></span>
<span><span class="co">#&gt; 2       2 design, system, specifications, requirements, ...</span></span>
<span><span class="co">#&gt; ...</span></span></code></pre></div>
<p>This unsupervised analysis may reveal that tasks cluster around skill
dimensions (analytical, creative, interpersonal) rather than official
sector boundaries.</p>
</div>
</div>
<div class="section level2">
<h2 id="zero-shot-classification-of-tasks">Zero-Shot Classification of Tasks<a class="anchor" aria-label="anchor" href="#zero-shot-classification-of-tasks"></a>
</h2>
<p>For hypothesis-driven research, you may want to classify tasks along
specific dimensions without training a supervised model. huggingfaceR’s
<code><a href="../reference/hf_classify_zero_shot.html">hf_classify_zero_shot()</a></code> applies a natural language
inference model to assign labels based on textual entailment.</p>
<div class="section level3">
<h3 id="skill-dimension-classification">Skill Dimension Classification<a class="anchor" aria-label="anchor" href="#skill-dimension-classification"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Classify tasks by primary skill dimension</span></span>
<span><span class="va">skill_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"analytical and quantitative reasoning"</span>,</span>
<span>  <span class="st">"creative and design thinking"</span>,</span>
<span>  <span class="st">"interpersonal communication"</span>,</span>
<span>  <span class="st">"technical and procedural execution"</span>,</span>
<span>  <span class="st">"strategic planning and decision making"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Classify a sample of tasks</span></span>
<span><span class="va">skill_classes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/hf_classify_zero_shot.html">hf_classify_zero_shot</a></span><span class="op">(</span></span>
<span>  <span class="va">gdpval</span><span class="op">$</span><span class="va">prompt</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span><span class="op">]</span>,</span>
<span>  labels <span class="op">=</span> <span class="va">skill_labels</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">skill_summary</span> <span class="op">&lt;-</span> <span class="va">skill_classes</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max</a></span><span class="op">(</span><span class="va">score</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">label</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">skill_summary</span></span>
<span><span class="co">#&gt; # A tibble: 5 x 2</span></span>
<span><span class="co">#&gt;   label                                      n</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                                  &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 analytical and quantitative reasoning     12</span></span>
<span><span class="co">#&gt; 2 technical and procedural execution         8</span></span>
<span><span class="co">#&gt; ...</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ai-automation-potential-classification">AI Automation Potential Classification<a class="anchor" aria-label="anchor" href="#ai-automation-potential-classification"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Classify tasks by automation potential</span></span>
<span><span class="va">automation_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"fully automatable by current AI"</span>,</span>
<span>  <span class="st">"partially automatable with human oversight"</span>,</span>
<span>  <span class="st">"requires significant human judgment"</span>,</span>
<span>  <span class="st">"requires physical presence or manipulation"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">automation_classes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/hf_classify_zero_shot.html">hf_classify_zero_shot</a></span><span class="op">(</span></span>
<span>  <span class="va">gdpval</span><span class="op">$</span><span class="va">prompt</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span><span class="op">]</span>,</span>
<span>  labels <span class="op">=</span> <span class="va">automation_labels</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">automation_summary</span> <span class="op">&lt;-</span> <span class="va">automation_classes</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max</a></span><span class="op">(</span><span class="va">score</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Aggregate by sector</span></span>
<span><span class="va">automation_by_sector</span> <span class="op">&lt;-</span> <span class="va">automation_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="va">gdpval</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">prompt</span>, <span class="va">sector</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"text"</span> <span class="op">=</span> <span class="st">"prompt"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">sector</span>, <span class="va">label</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">label</span>, values_from <span class="op">=</span> <span class="va">n</span>, values_fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="va">automation_by_sector</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cognitive-complexity-classification">Cognitive Complexity Classification<a class="anchor" aria-label="anchor" href="#cognitive-complexity-classification"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">complexity_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"routine procedural task"</span>,</span>
<span>  <span class="st">"moderately complex analytical task"</span>,</span>
<span>  <span class="st">"highly complex multi-step problem"</span>,</span>
<span>  <span class="st">"novel situation requiring creativity"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">complexity_classes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/hf_classify_zero_shot.html">hf_classify_zero_shot</a></span><span class="op">(</span></span>
<span>  <span class="va">gdpval</span><span class="op">$</span><span class="va">prompt</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span><span class="op">]</span>,</span>
<span>  labels <span class="op">=</span> <span class="va">complexity_labels</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compare complexity across sectors</span></span>
<span><span class="va">complexity_summary</span> <span class="op">&lt;-</span> <span class="va">complexity_classes</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max</a></span><span class="op">(</span><span class="va">score</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="va">gdpval</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">prompt</span>, <span class="va">sector</span>, <span class="va">occupation</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"text"</span> <span class="op">=</span> <span class="st">"prompt"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">complexity_summary</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">sector</span>, <span class="va">label</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">sector</span>, y <span class="op">=</span> <span class="va">n</span>, fill <span class="op">=</span> <span class="va">label</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Task Complexity by Sector"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Proportion"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"Complexity Level"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="similarity-analysis-across-occupations">Similarity Analysis Across Occupations<a class="anchor" aria-label="anchor" href="#similarity-analysis-across-occupations"></a>
</h2>
<p>We can characterize each occupation by the semantic centroid of its
tasks, then compute inter-occupation similarity to understand which jobs
involve similar types of work.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compute mean embedding per occupation</span></span>
<span><span class="va">occupation_profiles</span> <span class="op">&lt;-</span> <span class="va">clustered_tasks</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">occupation</span>, <span class="va">sector</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    n_tasks <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    embedding <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/funprog.html" class="external-link">Reduce</a></span><span class="op">(</span><span class="va">`+`</span>, <span class="va">embedding</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract embedding matrix</span></span>
<span><span class="va">occ_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">occupation_profiles</span><span class="op">$</span><span class="va">embedding</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">occ_matrix</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">occupation_profiles</span><span class="op">$</span><span class="va">occupation</span></span>
<span></span>
<span><span class="co"># Compute similarity</span></span>
<span><span class="va">occ_similarity</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/hf_similarity.html">hf_similarity</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>    text <span class="op">=</span> <span class="va">occupation_profiles</span><span class="op">$</span><span class="va">occupation</span>,</span>
<span>    embedding <span class="op">=</span> <span class="va">occupation_profiles</span><span class="op">$</span><span class="va">embedding</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find most similar occupation pairs</span></span>
<span><span class="va">occ_similarity</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">similarity</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 10 x 3</span></span>
<span><span class="co">#&gt;    text_1              text_2                similarity</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;               &lt;chr&gt;                      &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Financial Analyst   Accountant                 0.92</span></span>
<span><span class="co">#&gt;  2 Tax Examiner        Auditor                    0.89</span></span>
<span><span class="co">#&gt;  ...</span></span></code></pre></div>
<p>This reveals which occupations share semantic task content,
potentially indicating transferable skills or common AI augmentation
opportunities.</p>
</div>
<div class="section level2">
<h2 id="visualizing-the-task-embedding-space">Visualizing the Task Embedding Space<a class="anchor" aria-label="anchor" href="#visualizing-the-task-embedding-space"></a>
</h2>
<p>Dimensionality reduction provides a visual summary of how tasks
relate to each other in semantic space.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jlmelville/uwot" class="external-link">uwot</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract the embedding matrix from pre-computed embeddings</span></span>
<span><span class="va">emb_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">task_docs</span><span class="op">$</span><span class="va">embedding</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Project to 2D with UMAP</span></span>
<span><span class="va">umap_coords</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://jlmelville.github.io/uwot/reference/umap.html" class="external-link">umap</a></span><span class="op">(</span><span class="va">emb_matrix</span>, n_neighbors <span class="op">=</span> <span class="fl">15</span>, min_dist <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build plot data</span></span>
<span><span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">task_docs</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    umap_1 <span class="op">=</span> <span class="va">umap_coords</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>,</span>
<span>    umap_2 <span class="op">=</span> <span class="va">umap_coords</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">plot_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">umap_1</span>, y <span class="op">=</span> <span class="va">umap_2</span>, color <span class="op">=</span> <span class="va">sector</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.7</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Semantic Map of GDPval Tasks by Sector"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"UMAP projection of task embeddings"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"Sector"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    axis.ticks <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.grid <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="visualizing-clusters">Visualizing Clusters<a class="anchor" aria-label="anchor" href="#visualizing-clusters"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span></span>
<span>  <span class="va">plot_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">clustered_tasks</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">prompt</span>, <span class="va">cluster</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"prompt"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">umap_1</span>, y <span class="op">=</span> <span class="va">umap_2</span>, color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cluster</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.7</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Task Clusters in Embedding Space"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"K-means clusters projected via UMAP"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"Cluster"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    axis.ticks <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.grid <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>For quick one-off visualizations without pre-computed embeddings, you
can use <code><a href="../reference/hf_embed_umap.html">hf_embed_umap()</a></code> which handles embedding and
projection in a single call:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Alternative: hf_embed_umap() generates embeddings and projects in one step</span></span>
<span><span class="fu"><a href="../reference/hf_embed_umap.html">hf_embed_umap</a></span><span class="op">(</span><span class="va">gdpval</span><span class="op">$</span><span class="va">prompt</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualizing-by-prompt-length">Visualizing by Prompt Length<a class="anchor" aria-label="anchor" href="#visualizing-by-prompt-length"></a>
</h3>
<p>Task complexity, proxied by prompt length, may correlate with
position in embedding space.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">plot_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">umap_1</span>, y <span class="op">=</span> <span class="va">umap_2</span>, color <span class="op">=</span> <span class="va">prompt_length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.7</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Prompt Length"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Task Complexity in Embedding Space"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Color indicates prompt length (characters)"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    axis.ticks <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.grid <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="analyzing-reference-file-requirements">Analyzing Reference File Requirements<a class="anchor" aria-label="anchor" href="#analyzing-reference-file-requirements"></a>
</h2>
<p>GDPval tasks vary in their reference file requirements, from purely
text-based tasks to those requiring multiple supporting documents. This
dimension may correlate with task complexity and AI tractability.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Count reference files per task</span></span>
<span><span class="va">gdpval</span> <span class="op">&lt;-</span> <span class="va">gdpval</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>n_reference_files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lengths.html" class="external-link">lengths</a></span><span class="op">(</span><span class="va">reference_files</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Distribution of reference file counts</span></span>
<span><span class="va">gdpval</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">n_reference_files</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">n_reference_files</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"purple"</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Reference File Requirements"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Number of Reference Files"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Number of Tasks"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Reference files by sector</span></span>
<span><span class="va">gdpval</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sector</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    n_tasks <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    mean_files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">n_reference_files</span><span class="op">)</span>,</span>
<span>    max_files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">n_reference_files</span><span class="op">)</span>,</span>
<span>    pct_with_files <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">n_reference_files</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">mean_files</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="research-applications">Research Applications<a class="anchor" aria-label="anchor" href="#research-applications"></a>
</h2>
<p>The combination of the GDPval benchmark with huggingfaceR’s
analytical tools supports several research directions: <strong>AI
capability assessment.</strong> Use zero-shot classification and
semantic similarity to predict which GDPval tasks current AI systems can
handle, then validate against actual model performance.</p>
<p><strong>Skill taxonomy development.</strong> Use unsupervised
clustering to discover latent skill dimensions in economically valuable
work, potentially informing workforce development and education
policy.</p>
<p><strong>Occupation similarity mapping.</strong> Compute embedding
centroids per occupation to identify transferable skill clusters and
potential career transition pathways.</p>
<p><strong>Task complexity modeling.</strong> Use prompt length,
reference file count, and embedding features as predictors of task
difficulty or AI tractability.</p>
<p><strong>Cross-sector analysis.</strong> Compare the semantic profiles
of tasks across sectors to understand where AI capabilities generalize
versus where they are domain-specific.</p>
<p><strong>Benchmark extension.</strong> Identify semantic gaps in the
GDPval coverage by comparing to external task taxonomies (O*NET, ESCO)
via nearest neighbor search.</p>
</div>
<div class="section level2">
<h2 id="comparison-with-conversational-approaches">Comparison with Conversational Approaches<a class="anchor" aria-label="anchor" href="#comparison-with-conversational-approaches"></a>
</h2>
<p>The analyses above illustrate capabilities that distinguish
huggingfaceR from conversational LLM packages. Consider the research
question: “Which GDPval tasks are most semantically similar to data
analysis, and how do they distribute across sectors?”</p>
<div class="section level3">
<h3 id="the-huggingfacer-approach-programmatic-reproducible">The huggingfaceR approach (programmatic, reproducible)<a class="anchor" aria-label="anchor" href="#the-huggingfacer-approach-programmatic-reproducible"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Embed all 220 task descriptions in batch</span></span>
<span><span class="va">all_embeddings</span> <span class="op">&lt;-</span> <span class="va">gdpval</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/hf_embed_text.html">hf_embed_text</a></span><span class="op">(</span><span class="va">prompt</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find the 20 nearest neighbors to "data analysis"</span></span>
<span><span class="va">data_tasks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/hf_nearest_neighbors.html">hf_nearest_neighbors</a></span><span class="op">(</span><span class="va">all_embeddings</span>, <span class="st">"data analysis"</span>, k <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Analyze their sector distribution</span></span>
<span><span class="va">data_tasks</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">sector</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute similarity statistics</span></span>
<span><span class="va">data_tasks</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    mean_similarity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">similarity</span><span class="op">)</span>,</span>
<span>    sd_similarity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">similarity</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-conversational-approach">The conversational approach<a class="anchor" aria-label="anchor" href="#the-conversational-approach"></a>
</h3>
<p>With a chat-based interface, the same analysis would require:</p>
<ol style="list-style-type: decimal">
<li>Manually prompting the LLM with each task description to assess
similarity (220 API calls with unstructured text responses)</li>
<li>Parsing natural language responses into numeric similarity
scores</li>
<li>Handling rate limits, inconsistent outputs, and non-deterministic
responses</li>
<li>No guarantee of reproducibility across runs</li>
</ol>
<p>huggingfaceR’s embedding-based approach is deterministic, operates in
batch, and produces structured numeric output suitable for downstream
statistical analysis.</p>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>This vignette demonstrated how huggingfaceR enables programmatic
analysis of the OpenAI GDPval benchmark:</p>
<table class="table">
<colgroup>
<col width="32%">
<col width="67%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Research Application</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="../reference/hf_load_dataset.html">hf_load_dataset()</a></code></td>
<td>Load GDPval directly from Hugging Face Hub</td>
</tr>
<tr class="even">
<td><code><a href="../reference/hf_embed.html">hf_embed()</a></code></td>
<td>Convert task prompts to vector representations</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/hf_similarity.html">hf_similarity()</a></code></td>
<td>Measure semantic relatedness between tasks</td>
</tr>
<tr class="even">
<td><code><a href="../reference/hf_nearest_neighbors.html">hf_nearest_neighbors()</a></code></td>
<td>Map research concepts onto the task taxonomy</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/hf_cluster_texts.html">hf_cluster_texts()</a></code></td>
<td>Discover latent task groupings</td>
</tr>
<tr class="even">
<td><code><a href="../reference/hf_extract_topics.html">hf_extract_topics()</a></code></td>
<td>Interpret cluster content</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/hf_classify_zero_shot.html">hf_classify_zero_shot()</a></code></td>
<td>Classify tasks along arbitrary dimensions</td>
</tr>
<tr class="even">
<td><code><a href="../reference/hf_embed_umap.html">hf_embed_umap()</a></code></td>
<td>Visualize the task embedding space</td>
</tr>
</tbody>
</table>
<p>These operations run as reproducible batch pipelines over structured
data, producing tibbles suitable for statistical modeling and
visualization. This analytical approach enables corpus-scale,
quantitative research on AI’s economic implications.</p>
</div>
<div class="section level2">
<h2 id="see-also">See Also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<ul>
<li>
<a href="getting-started.html">Getting Started</a> – installation
and authentication.</li>
<li>
<a href="embeddings-and-similarity.html">Embeddings, Similarity, and
Semantic Search</a> – detailed coverage of embedding functions.</li>
<li>
<a href="text-classification.html">Text Classification</a> –
zero-shot classification techniques.</li>
<li>
<a href="hub-datasets-and-modeling.html">Hub Discovery, Datasets,
and Tidymodels</a> – searching the Hub and building ML pipelines.</li>
<li>
<a href="anthropic-economic-index.html">Analyzing the Anthropic
Economic Index</a> – similar analysis on a larger occupational task
dataset.</li>
<li>
<a href="https://huggingface.co/datasets/openai/gdpval" class="external-link">GDPval
Dataset</a> – official dataset page and documentation.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alex Farach, Sam Terfa, Jack Penzer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> | <a href="https://github.com/farach/huggingfaceR" class="external-link">View on GitHub</a></p>
</div>

    </footer>
</div>





  </body>
</html>
